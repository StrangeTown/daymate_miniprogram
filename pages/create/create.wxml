<!--pages/create/create.wxml-->
<navigation-bar title="创建活动" back="{{true}}" color="black" background="#FFF"></navigation-bar>

<view class="create-container">
  <view class="form-section">
    <view class="input-group">
      <text class="input-label">活动名称</text>
      <input
        class="input-field"
        type="text"
        placeholder="请输入活动名称"
        value="{{eventTitle}}"
        bindinput="onTitleInput"
      />
    </view>

    <view wx:if="{{letters.length > 0}}" class="letters-section">
      <text class="input-label">选择缩写</text>
      <view class="letters-list">
        <view
          wx:for="{{letters}}"
          wx:key="index"
          class="letter-item {{selectedLetter === item ? 'selected' : ''}}"
          bindtap="onLetterSelect"
          data-letter="{{item}}"
        >
          {{item}}
        </view>
      </view>
    </view>

    <view class="images-section">
      <text class="input-label">选择图片 (可选)</text>
      <view class="images-list">
        <view
          wx:for="{{availableImages}}"
          wx:key="index"
          class="image-item {{selectedImage === item ? 'selected' : ''}}"
          bindtap="onImageSelect"
          data-image="{{item}}"
        >
          <image class="event-image-preview" src="/{{item}}" mode="aspectFit"></image>
        </view>
      </view>
    </view>

    <view class="input-group">
      <text class="input-label">活动日期</text>
      <picker
        mode="date"
        value="{{eventDate}}"
        start="{{minDate}}"
        bindchange="onDateChange"
      >
        <view class="date-picker">
          <text class="date-text">{{eventDate || '请选择日期'}}</text>
          <text class="picker-icon">📅</text>
        </view>
      </picker>
    </view>
  </view>

  <view class="button-section">
    <button class="save-button" bindtap="onSaveEvent">保存活动</button>
  </view>
</view>